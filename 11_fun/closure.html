<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>closure</title>
  </head>
  <body>
       <button id="orange"> Orange </button>
       <button id="green"> Green </button>

  </body>
  <script>
    // function init() {
    //   let name = "Mozilla";
    //   function displayName() {
    //     console.log(name);
    //   }
    //   displayName();
    // }

    // init();

    // lexical scoping: children can accesss parent but parent can't access children and siblings also can't share
    function parent() {
      let parentUsername = "hitesh";

      // cant't access: children
      // console.log(sib1)
      // console.log(sib2)

      function sibling1() {
        let sib1 = "jaipur";
        // access OK: parent
        console.log(parentUsername);
        // can't access : sibling
        // console.log(sib2)
      }

      function sibling2() {
        let sib2 = "rajasthan";
        // access OK: parent
        console.log(parentUsername);
        // can't access : sibling
        // console.log(sib1)
      }
      // call/run/evoke children functions in parent function
      sibling1();
      sibling2();
    }

    // call parent function
    // parent()
    



    // closure
    function makeFunc() {
      const name = "Mozilla";
      function displayName() {
        // children/inner function forms a closure over 'name' variable
        console.log(name);
      }
      // here parent return function :  This returned function "remembers" variables from its parent scope (i.e., 'name')
      // Means, it carries along its lexical scope
      return displayName;
    }

    const myFunc = makeFunc(); // Closure is created here
    // myFunc();   // Executes children-scope 'displayName' with access to 'name' from 'makeFunc' parent-scope


    

  </script>
  <script>
    //can make many scripts

    // Real world : for closure 



    // document.getElementById("orange").onclick = function() {
    //         document.body.style.backgroundColor  = "#FFA500"    
    // };
    
    // document.getElementById("green").onclick = function() {
    //         document.body.style.backgroundColor  = "green"    
    // };
     
    // here the use of closure 


    // Higher-order function: returns a function that sets background color
    function clickHandler (color){
        // Closure: the 'returned function ' remembers the color passed
        return function (){
            document.body.style.backgroundColor = `${color}`
        }
    }



    document.getElementById("green").onclick = clickHandler("green");  // function takes argument 'green' ( green == color for function) and this is a hook for closure 'intenal fucntion' that changes the color of the body as 'argument' passed 
    document.getElementById("orange").onclick = clickHandler("orange");

   
  </script>
</html>
